image:
  repository: ghcr.io/weyer-data-engineering/aiteza-backend
  tag: ""
  pullPolicy: IfNotPresent

imagePullSecrets: []
nameOverride: ""
fullNameOverride: aiteza-backend

javaOptions: ""

aiteza:
  frontendOrigin: ""
  chatNameModel: ""
  repromptModel: ""
  models: {}
  database:
    connectionPool:
      minIdle: 5
      max: 90
      idleTimeout: 5000
    postgres:
      host: ""
      port: 5432
      database: aiteza
      schema: public
      secretRef:
        name: ""
        keys:
          postgresUser: "postgresUser"
          postgresPassword: "postgresPassword"
  keycloak:
    authServerUrl: ""
    realm: ""
    clientId: ""
    secretRef:
      name: ""
      keys:
        adminUsername: "adminUsername"
        adminPassword: "adminPassword"
  etl:
    tika:
      endpoint: ""
    docling:
      enabled: true
      baseUrl: ""
    firecrawl:
      endpoint: "https://api.firecrawl.dev"
      maxSubpages: 200
      maxDepth: 3
      secretRef:
        name: ""
        keys:
          apiKey: "apiKey"

s3:
  enabled: false
  endpoint: ""
  region: ""
  bucketName: ""
  secretRef:
    name: ""
    keys:
      accessKey: "accessKey"
      secretKey: "secretKey"

spring:
  security:
    oauth2:
      resourceserver:
        jwt:
          issuerUri: ""
          audiences: "account"
  ai:
    openai:
      baseUrl: ""

springdoc:
  swaggerUi:
    oauth:
      clientId: ""

# A list of Kubernetes Secret objects that will be exported to the ATIEZA
#  pod as environment variables.
environmentSecrets: []
  # - aiteza-envsecrets

service:
  annotations: {}
  type: ClusterIP
  clusterIP:
  httpPort: 80
  sessionAffinity: None

ingress:
  enabled: true
  ingressClassName: ""
  annotations: {}
  host: ""
  tls:
    secretName: ""

serviceAccount:
  create: false

replicaCount: 2

resources:
  requests:
    memory: 2Gi
    cpu: 1
  limits:
    memory: 4Gi
    cpu: 2

podAnnotations: {}

startupProbe:
  failureThreshold: 10
  initialDelaySeconds: 60
  timeoutSeconds: 3
  periodSeconds: 5

readinessProbe:
  failureThreshold: 3
  initialDelaySeconds: 1
  timeoutSeconds: 3
  periodSeconds: 5

livenessProbe:
  failureThreshold: 1
  initialDelaySeconds: 30
  timeoutSeconds: 3
  periodSeconds: 30

podSecurityContext: {}
securityContext:
  runAsNonRoot: true
  allowPrivilegeEscalation: false
  readOnlyRootFilesystem: true
  runAsUser: 1000
  runAsGroup: 1000
  seccompProfile:
    type: RuntimeDefault

terminationGracePeriodSeconds: 30

nodeSelector: {}
tolerations: []
affinity: {}
topologySpreadConstraints: []

autoscaling:
  enabled: true
  minReplicas: 2
  maxReplicas: 10
  targetCPUUtilizationPercentage: 60

podDisruptionBudget:
  enabled: true
  minAvailable: "50%"
